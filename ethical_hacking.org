* expectations from ethical hacker
** privary
** intellectual property
** disclosure
** areas of expertise
** no unauthorized usage
** no illegal activities
** authorization
** dont be bad guy
* skills required
** expert with programs and networks
*** tcp/ip
** proficient with vulnerability research
** learn different hacking techniques
** follow a strict code of conduct
* types of pen test
** black box
** gray box
** white box
* fundamentals of information security
** authenticity
** integrity
** availability
** confidentiality
** non-repudiation
* motivations for attackers
** disrupt business continuity
** steal data
** create fear and chaos
** financial losses
** publicize political or relegious beliefs
** achieve states military objectives
** reputation of target
** revenge
** ransom
* types of attacks
** passive
** active attacks
** close-in attacks
** insider attacks
** distribution attacks
* terminology
** exploit
*** a way of circumventing security
** hack values
*** value hacker associates with the system
** vulnerability
*** weakness in the implementation of a system
** target of evaluation
** zero-day attack
*** attack where no patch or fix available
*** ms knows that there is vulnerability but fix is still not available
** daisy chaining
*** using one node in environment to attack other nodes in environment
* security threat
** hosts, natural, physical, applications, human, network
** host
*** footprinting
**** we can find out the system by seeing response and decide attacks to launch
*** physical security
*** passwords
*** malware
*** denial of service
*** unauthorized access
*** privilege escalation
*** back doors
** natural
*** earthquakes
*** hurricanes
*** floods
*** natural disasters
** physial
*** theft
*** impact
*** power
*** end of life
** applications
*** configuration
*** buffer overflow
*** lazy coding
*** data / input validation
** human
*** malicious employees
*** lack of training
*** social networking
*** hackers
** network
*** sniffing / eavesdropping
*** ARP poisoning
**** address resolution protocol
**** responsible for resolving ip address to mac address
**** change the default gateway address so that computers connection to internet goes through attacher
*** denial of service
*** spoofing
**** pretending to be someone
* attack vectors
** vm and cloud environments
** unpatched software
** social networking
** hacktivism
** malware
** botnets
** secuirty staffing
** lack of security policies
** compliance with regulations/laws
** complexity of network infrastructure
** mobile devices
** ransomware
** advanced persistent threats
** phishing
** web applications
** iot
* ipv6
** auto configuration
** incompatibility of logging systems
** default activation
** shortcuts
** 4to6 translation
** multiple ips per device
** network discovery
* lab
** virtualbox
** hyper-v
** vmware
* recon
** find out number of ways we can attach the target
** methods to do recon
** trying to understand target and value
** 2 methods passive , active
* scanning
*** NIST - SP 800-115
*** PTES
*** OSSTMM
* tools
** maltego
* exam
** ec council certified ethical hacker exam
* jobs product secuirty incident response team
* information security vs cyber security
** In the past, security programs actually included policies and programs and technology like the traditional firewalls in place to actually block traffic from the outside or even from inside as well.
** those programs were originally designed only to protect the traditional CIA,
*** confidentiality, integrity, availability
*** confidentiality
**** protect sensitive data from being accessed and being read by unauthorized users.
**** use encryption for mitigation
*** integrity
**** data or systems have not been altered or modified by an attacker
**** hashing
*** availability
**** make sure that all systems are available at all the time to authorized users
**** ddos is major attack
** cyber security
*** includes lot other elements
*** organizations definitely have to be vigilant, resilient, and ready to protect, but also to defend in the case of an incident
*** dfir - digital forensics incident response
**** ability for you to build a program in place, not only technology, but also people to be able to respond to incident
**** Security operation center is basically the heart of an incident response program
***** Security Information and Event Management (SIEM)
***** security orchestration, automation, and response
****** analysts basically,act and work in a tier deployment
**** security orchestration, automation, and response, a term called SOAR.
*** risk management and oversight.
**** operationalize the way that you look at risk
**** prioritize things
**** create even heatmaps to see what devices and what environments may be of higher risk
**** potentially shift risk
**** able to discover the hidden risk
*** threat intelligence.
**** may be from a business peer that observed an indicator of a compromise or attack or attack behavior that can be shared with others
**** organization can pay to a company to receive a threat intelligence feed
**** information about a potential attack
*** third party security.
**** business partner
**** where we check software we buy from vendor
**** you actually have to take into consideration the risk that you may actually be introducing within your organization
*** organization have 2 or 3 level soc
* 1.3 ethical hacking methodologies
* cyber kill chain
** will allow you to gain information about the tactics, techniques, and procedures that attackers use in real life scenarios.
** framework that was part of the intelligence driven defense solution provided by a company called Lockheed Martin.
** goes over is the day in the life of an attack
** reconnaissance
** WEAPONIZATION
*** Coupling exploit with backdoor into deliverable payload
** delivery
** exploitation
** installation
** command and control
*** add some backdoor into the system
** ACTIONS ON OBJECTIVES
* MITRE ATT&CK Framework
** similar to cyber kill chain
** including a plethora of additional information
* Surveying Ethical Hacking Methodologies
** main difference of course, is that you are actually have permission to perform those attacks and something that we actually call scope,
dictates what you can or cannot do against a system.

different ethical hacking methodologies
penetration testing execution standard
OWASP testing guide
NIST 800-115: Technical Guide to Information Security Testing and Assessment
open source security testing methodology manual
pre engagement interactions
Scoping things like NDAs or non-disclosure agreements, different disclosures
* penetration testing
** penetration testing execution standard
** OWASP testing guide
** nist 800-115
**  open source security testing methodology manual, or the OSS TMM
* get out of jail free card and that is a statement or a document that your customer, right? will actually give you as the pen tester to basically prove that they are permitting you and they're allowing you to perform this type of testing and that you are authorized to basically demonstrate what an attacker can actually do
* foot printing
** first step in hacking methodology
** we gather information in this step
* information security controls, laws
* type of scanning we can do
** tcp connect scan
*** tries to establish a session
*** uses full 3 way hand shake syn, syn/ack, ack/rst
*** if syn > rst means port closed
*** if there are any network firewalls we may not even get reset
*** we can do syn flood by not sending reset after syn/syn/ack
*** we send reset to tell destination that it can tear down session
** xmas scan
*** in this we set fin, psh, urg flags to 1 in the header
*** if port is open you won't get any response
** null scan
*** TCP segment with no flag set
*** if we get no response port is open
*** if we get RST back port is closed
** idle scan
*** we will use a zombie host
**** someone unknowingly participating in this scan
*** we derive IP ID from zombie
*** we send SYN packet spoofing zombie IP
*** process
**** send SYN/ACK to zombie host
**** we will get RST back
**** there will be IP in that RST
**** we send SYN to destination with spoofed IP
**** if destination port is closed we will get RST to zombie
**** when we run SYN/ACK again, we'll get IP ID incremented by 1
**** we require zombie host to be silent
**** for port open IP ID will incremented by 2
**** operating system increments IP ID by one, for every packet it sends. it may increment it by some random number too
** inverse TCP flag scan
*** FIN/URG/PSH/NULL uses combination of these flags to determine if port is open
*** if port is open no response
*** if port is closed reset
** ACK flag scan
** network firewalls with stateful feature can filter these scans?
*** because these are invalid flag combinations
* network scanning tools
** nmap
** counter measures
*** stateful firewalls will protect from most but TCP connect and Half-open
*** IDS, IPS, signatures can detect those bad segment flags
*** proactively scan your assets b
oth from inside and outside
**** don't want to have a service that should be available on the inside of your network, be available on the outside
*** Filtering ICMP
**** Filter ICMP at least to and from the internet
**** Employ HIPS with behavior monitoring to detect and block scanning sources
* scanning network demo
** to find your ip do
#+begin_src
ip addr
#+end_src
** we can do nmap to find other systems in the network
#+begin_src
nmap -n -sn ip/mask
# -n means dont connvert to names
# -sn means arp scan
#+end_src
** next we do tcp scan
*** this is active scan
#+begin_src
nmap -sT -p1-1000 -Tinsane ip/mask
#+end_src
*** find default gateway
#+begin_src bash
ip router
#+end_src
** /etc/services is distributed by most linux/unix systems
* banner grabbing
** goal is to figure out the service on the machine and which OS it is running on
** two types active, passive
** active
*** we connect and try to get information
** passive
*** we sniff network, capture packets
** counter measures
*** apache gives ability to hide this info in response
*** we can return fals response
*** IIS has lockdown wizard
* scanning beyond ids and firewall
** these need access to something inside network already
** ssh tunneling
*** provides methods to tunnel network traffic
*** you can actually reverse proxy traffic through an SSH tunnel as well.
#+begin_src
ssh -L 5900:10.1.1.20:5900 nick@10.1.1.10
#+end_src
